# AI를 위한 PR 작성 매뉴얼 (AI PR Writing Manual)

---

## 1. 개요
이 문서는 **'풀 바이브 코딩 프로젝트'**에서 AI 에이전트가 Pull Request(PR)를 작성하는 규칙과 절차를 정의합니다.  
AI는 이 매뉴얼을 기반으로 입력된 데이터를 분석하여, 프로젝트의 PR 템플릿에 맞춰 일관되고 명확한 PR 본문을 생성해야 합니다.

**핵심 목표:**
- **자동화**: 사람의 개입을 최소화하고 신속하게 PR 초안을 작성합니다.  
- **명확성**: 리뷰어가 변경 사항의 맥락을 쉽게 파악할 수 있도록 돕습니다.  
- **일관성**: 모든 PR이 정해진 컨벤션을 따르도록 보장합니다.  

---

## 2. 입력 데이터 (Input Data)
AI 에이전트는 PR 작성을 위해 다음 데이터를 입력받습니다:

- **사용자 명령어 (User Prompt)**: `"로그인 기능 PR 작성해줘"` 와 같은 사용자의 직접적인 지시  
- **Git Diff**: 변경된 코드의 diff 전문  
- **브랜치 커밋 로그 (Commit Logs)**: 해당 브랜치에 쌓인 커밋 메시지 목록  
- **브랜치 이름 (Branch Name)**: 작업 브랜치의 이름 (예: `feature/FBC-123-login-page`)  
- **Jira 티켓 정보 (선택 사항)**: 티켓의 제목, 설명 등  

---

## 3. PR 작성 절차
AI는 다음 절차에 따라 PR을 작성합니다:

1. **입력 데이터 분석**: 모든 입력 데이터를 종합하여 변경의 타입(type), 범위(scope), 목적(purpose)을 파악합니다.  
2. **PR 제목 생성**: 분석 결과를 바탕으로 Conventional Commit 규칙에 맞는 PR 제목을 생성합니다.  
3. **템플릿 항목 채우기**: 아래의 *섹션별 작성 가이드*에 따라 PR 템플릿의 각 항목을 순서대로 채웁니다.  
4. **최종 결과물 출력**: 완성된 PR 본문 전체를 Markdown 형식으로 출력합니다.  

---

## 4. 섹션별 작성 가이드

### 🏷️ PR 제목 (Title)
- **규칙**: `type(scope): subject` 형식 (Squash and Merge 시 커밋 메시지가 되므로 가장 중요)  
- **작성 방법**:  
  - **type**: 커밋 로그에서 `feat`, `fix` 등 핵심적인 타입을 식별  
  - **scope**: 변경된 파일이 가장 많이 속한 디렉토리(예: `auth`, `ui`)로 추론  
  - **subject**: Jira 티켓 제목이나 커밋 메시지를 종합하여 **50자 이내 명사형 문장**으로 요약  

✅ **예시:**  
```text
feat(auth): Add Google social login feature
````

---

### 🎯 PR 타입

* **규칙**: 해당하는 타입에 `[x]` 표시
* **작성 방법**: PR 제목의 type 기반으로 선택 (여러 개 가능)

✅ **예시:**

* [x] **Feat**: 새로운 기능 추가
* [ ] **Fix**: 버그 수정

---

### 📌 관련 이슈

* **규칙**: Jira 티켓 번호를 Markdown 링크 형식으로 작성
* **작성 방법**: 브랜치 이름이나 커밋 메시지에서 `FBC-` 형식 번호 추출 후 Jira 링크와 조합

✅ **예시:**

* **Related Issue**: [FBC-123](https://your-jira-url.com/browse/FBC-123)

---

### 📝 개요

* **작업 배경 (Why)**: *"왜 이 작업을 했는가?"* → Jira 설명이나 첫 커밋 참고
* **핵심 변경 사항 (What)**: *"그래서 무엇이 바뀌었는가?"* → 제목을 상세히 서술

✅ **예시:**

* 작업 배경 (Why): 기존 이메일 로그인의 사용자 경험을 개선하고 가입 전환율을 높이기 위해 소셜 로그인 기능을 추가합니다.
* 핵심 변경 사항 (What): Google Firebase Authentication을 사용하여 구글 소셜 로그인 기능을 구현했습니다.

---

### ✅ 작업 상세 내용

* **규칙**: 커밋 메시지 목록을 기반으로 체크리스트 생성
* **작성 방법**: 각 커밋 메시지 subject → 체크리스트 항목

✅ **예시:**

* [x] 구글 로그인 버튼 UI 컴포넌트 추가
* [x] Firebase Auth 연동을 위한 `useAuth` 훅 구현
* [x] 로그인 성공 시 사용자 정보를 Zustand 스토어에 저장

---

### 📸 결과 및 테스트 방법

* **실행 결과**: UI 변경 시 스크린샷/GIF 첨부 (플레이스홀더 제공)

  ```html
  <!-- (UI 변경이 감지되었습니다. 결과 스크린샷을 여기에 첨부해주세요.) -->
  ```
* **테스트 방법**: diff 기반으로 리뷰어가 직접 기능 확인 가능한 절차 작성

✅ **예시:**

1. 로컬 환경 실행 후 `/login` 페이지로 이동
2. 'Google로 로그인' 버튼 확인
3. 버튼 클릭 → 구글 로그인 창 정상 동작 및 로그인 후 메인 페이지 이동 확인

---

### 🔎 리뷰어 집중 포인트

* **규칙**: 리뷰어가 집중해야 할 복잡/중요 코드 부분 명시
* **작성 방법**: diff 기반 → 복잡 로직/상태 관리 변경/새 알고리즘 추가 부분 설명

✅ **예시:**

* `src/hooks/useAuth.ts` 파일에 새로운 상태 관리 로직이 추가되었으니 중점적으로 확인 부탁드립니다.

---

### ⚠️ 위험 요소 및 고려사항

* **롤백 계획**: 기본값 → "이 PR을 Revert하고 `main` 브랜치를 재배포"
* **의존성 변경**: `package.json` 변경 시만 작성 (추가/삭제/업데이트 라이브러리)

✅ **예시:**

* 의존성 변경: `firebase` v9.10.0 라이브러리가 추가되었습니다.

---

### 🤖 AI 참고사항 (for AI)

* **규칙**: 미래 AI 작업을 위한 컨텍스트 제공
* **작성 방법**:

  * **Scope**: 주요 변경 디렉토리 경로
  * **Logic**: 핵심 로직이 담긴 파일/함수명
  * **Prompt**: 후속 작업 프롬프트 제안

✅ **예시:**

* Scope: `src/app/login`, `src/components/auth`, `src/hooks`
* Logic: `src/hooks/useAuth.ts`의 `handleGoogleLogin` 함수
* Prompt: `handleGoogleLogin` 함수의 에러 처리 로직을 더 견고하게 보강하고, 관련 유닛 테스트 코드를 작성해줘.